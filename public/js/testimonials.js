var galleryContainer=$(".testimonials-gallery"),progressBar=$("#progress"),startImageIndex=0,numberOfImages=12;function debounce(e,a,t){var n;return function(){var i=this,l=arguments,s=t&&!n;clearTimeout(n),n=setTimeout(function(){n=null,t||e.apply(i,l)},a),s&&e.apply(i,l)}}const loadImages=()=>{if(-1===startImageIndex)return;let e=document.createElement("div");e.setAttribute("class","testimonials-grid"),e=$(e),$.ajax({type:"get",url:`/images/testimonials/${startImageIndex}/${numberOfImages}`,beforeSend:()=>{progressBar.show()}}).done(a=>{progressBar.hide(),a.images.length>1&&galleryContainer.append(e),a.images.forEach(a=>{e.append(`\n                <div class="row">\n                    <div class="testimonials-image" class="col-sm-4">\n                        <a href="/img/testimonials/${a.path}">\n                            <img src="/img/testimonials/${a.thumbnailPath}" alt="${a.altText}" class="img-fluid">\n                        </a>\n                    </div>\n                    <div class="testimonials-logo" class="col-sm-4">\n                        <img src="/img/logo.png" alt="Barbams Elixir" class="img-fluid">\n                    </div>\n                </div>\n            `)}),startImageIndex=0===a.images.length?-1:startImageIndex+numberOfImages+1})};$(document).ready(()=>{loadImages();const e=document.querySelector("body");e.addEventListener("scroll",debounce(function(){const a=document.querySelector(".testimonials-gallery").clientHeight;e.scrollTop+e.clientHeight>=a&&loadImages()},250))}),$(document).ready(function(){galleryContainer.magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")}}})});
